<head>
    <meta charset="UTF-8">
    <title>uiflo</title>
    <meta name="description" content="uiflo">
    <script src="https://apis.google.com/js/platform.js"  ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <meta name="google-signin-client_id" content="206610660340-so39rfgsa5u51ieklusn0egm63asndn2.apps.googleusercontent.com">
    <link rel="shortcut icon" type="image/png" href="src/img/new.ico"/>
    <link rel="canonical" href="https://uiflow.com/">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Rubik' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</head>

<div   ng-app="myApp" ng-controller="myCtrl" > 
<div class="col-md-12 col-lg-12" style="margin-top: 1%;border-bottom: 1px solid #EBEBEB;background: white;padding: 0;">
    <div class="col-md-7 col-lg-7" style="color: #3D1369;font-size: 24px;font-weight: 700;font-family: Rubik;">
        <img src="src/img/sds.svg" alt="">
        <!-- <img src="{{user.profile_pic}}" alt=""> xxxxxxxxxx -->
    </div>
 
</div>
<div class="col-lg-12 col-md-12" style="height: 100vh;background: #F7F7F7;padding: 3%;">
    <div class="col-lg-4 col-md-4 col-lg-offset-4 col-md-offset-4" style="height: 90%;background: white;">

        <div class="col-lg-12 col-md-12" style="height: 100%;">
            <div class="col-lg-12 col-md-12"  style="height: 80%;">
                <div id="profile-pic" class="col-lg-4 col-md-4 col-lg-offset-4 col-md-offset-4" >
                    <img src="{{user.profile_pic}}" style="background: #D8D8D8;border-radius: 50%;height: 15vh; width: 15vh; margin-top: 12%;">
                </div>
                   <div class="col-lg-12 col-md-12" style="text-align: center;color: #666666;font-size: 30px;font-weight: 700;margin-top: 1%;">
                    {{user.first_name}}
                </div>
                    <div class="col-lg-10 col-md-10 col-lg-offset-1 col-md-offset-1" style="background-color: #FFFFFF;border: 1px solid #FFB2B2;border-radius: 27px;padding: 2%;color: #3D1369;font-size: 16px;text-align: center;font-weight: 600;margin-top: 3%;">
                        {{user.email}}
                    </div>
            </div>
            <div class="col-lg-12 col-md-12" style="height: 20%;">
            <div class="col-lg-12 col-md-12" style="height: 20%;padding: 0">
                <div style="color:#3D1369;font-size: 16px;text-align: left;padding: 2%;font-weight: bold;border-bottom: 1px solid #E5E5E5;margin-bottom: 2%;cursor: pointer;">EDIT PROFILE<span class="fa fa-angle-right" style="float: right;font-weight: bold;"></span></div>
                <div style="color:#3D1369;font-size: 16px;text-align: left;padding: 2%;font-weight: bold;cursor: pointer;">CHANGE PASSWORD<span class="fa fa-angle-right" style="float: right;font-weight: bold;"></span></div>
            </div>
            </div>
        </div>


    </div>
</div>
</div>


<style>

</style>
 

<script type="text/javascript">

 

var app = angular.module('myApp',  []);
app.controller('myCtrl', function($scope, $http, $timeout) {

$scope.user_display_name = "Users";


$scope.CheckUser = function() {

    var headers = {"Authorization": "Token " + window.localStorage.getItem("token")}
    $scope.userId = window.localStorage.getItem('userId') || "unknown"
    $http({
        method: "GET",
        url: "http://13.126.184.35:8000/user/" + $scope.userId + "/" ,
        headers :headers
        })
    .then(function(response) {
        $scope.user = response.data;
        console.log($scope.user)

        if($scope.user.is_admin){
            $scope.userRole = "admin"
        }
        else if($scope.user.is_staff){
            $scope.userRole = "staff"
            $scope.ListRefrence();
        }
        else{
            $scope.userRole = "normal"
        }
 
 
    }
    ).catch(function error() {
        // alert("please sigin")
        // window.location.replace("./index.html");

    })
    ;

}
$scope.CheckUser();




})


</script>
